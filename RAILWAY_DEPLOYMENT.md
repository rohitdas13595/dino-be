# üöÇ Railway Deployment Guide - Dino Wallet Service

This guide explains how to deploy the **Dino Wallet Service** to [Railway](https://railway.app/).

## üìã Prerequisites

1.  **Railway Account**: Signed up at [railway.app](https://railway.app/).
2.  **Railway CLI**: (Optional) Installed and logged in (`npm i -g @railway/cli`).

---

## üöÄ Deployment Steps (Dashboard)

### 1. Create a New Project

- Log in to Railway Dashboard.
- Click **"New Project"**.
- Select **"Deploy from GitHub repo"** and choose this repository.

### 2. Add Infrastructure (PostgreSQL & Redis)

- Click **"New"** in your project view.
- Select **"Database"** -> **"Add PostgreSQL"**.
- Click **"New"** again.
- Select **"Database"** -> **"Add Redis"**.

### 3. Connect Services

Railway automatically provides environment variables when you link services.

- Go to your **Application Service** (dino-be).
- Go to the **Variables** tab.
- Click **"Reference Variable"** and add:
  - `DATABASE_URL`: Select `${{Postgres.DATABASE_URL}}`.
  - `REDIS_URL`: Select `${{Redis.REDIS_URL}}`.

### 4. Automatic Build & Deploy

Railway uses **Nixpacks** to automatically detect Bun:

- It will see `package.json`.
- It will execute the `start` script: `bun run migrate:up && bun run src/index.ts`.
- This ensures your database schema is created/updated before the app starts.

---

## üíª CLI Deployment (Alternative)

If you prefer the command line:

```bash
# Login
railway login

# Initialize project
railway init

# Add resources
railway add postgres
railway add redis

# Deploy
railway up
```

---

## üõ†Ô∏è Environment Variables Reference

| Variable       | Description                  | Source               |
| :------------- | :--------------------------- | :------------------- |
| `DATABASE_URL` | PostgreSQL connection string | Railway Postgres     |
| `REDIS_URL`    | Redis connection string      | Railway Redis        |
| `PORT`         | Dynamic port (Default: 3000) | Railway Managed      |
| `NODE_ENV`     | Environment (production)     | Manual (Recommended) |

---

## üîç Post-Deployment Check

Once deployed, verify your service:

1.  **Swagger UI**: `https://your-railway-url.up.railway.app/swagger`
2.  **Health Check**: `https://your-railway-url.up.railway.app/metrics/health`

---

_Generated by Antigravity AI Engineering team._
